# MAVROS Configuration for Mini Pixhawk (ArduRover)

mavros:
  ros__parameters:
    # Connection settings
    fcu_protocol: "v2.0"  # MAVLink 2.0
    system_id: 20         # ROS2 system ID
    component_id: 240     # Ground Control Station component
    
    # Plugin settings
    plugin_allowlist:
      - sys_status
      - sys_time
      - gps
      - imu
      - global_position
      - local_position
      - setpoint_velocity
      - command
      - waypoint
      - mission
      - param
      - rc
      - battery
      
    # GPS plugin
    gps:
      frame_id: "gps"
      
    # IMU plugin  
    imu:
      frame_id: "imu"
      angular_velocity_stdev: 0.0003490659  # 0.02 deg/s
      linear_acceleration_stdev: 0.0003   # m/s^2
      orientation_stdev: 0.0001745329     # 0.01 deg
      
    # Global position plugin
    global_position:
      frame_id: "map"
      child_frame_id: "base_link"
      rot_covariance: 0.0001745329
      use_relative_alt: true
      
    # Local position plugin
    local_position:
      frame_id: "map"
      tf_send: false
      tf_frame_id: "map"
      tf_child_frame_id: "base_link"
      
    # Setpoint velocity plugin
    setpoint_velocity:
      mav_frame: LOCAL_NED
      
    # Command plugin
    command:
      use_comp_id_system_control: false
      
    # Waypoint/Mission plugins
    waypoint:
      pull_after_gcs: true
      use_mission_item_int: true
      
    # Battery plugin
    battery:
      voltage_cov: 0.01  # V
