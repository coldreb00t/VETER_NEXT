# VETER Robot Control Client (macOS)

**–ü—Ä–æ—Å—Ç–æ–π –∏ –±—ã—Å—Ç—Ä—ã–π GUI-–∫–ª–∏–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º VETER**

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìπ **–í–∏–¥–µ–æ —Å—Ç—Ä–∏–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** (RTSP —á–µ—Ä–µ–∑ VLC)
- üéÆ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–±–æ—Ç–æ–º** (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥–∂–æ–π—Å—Ç–∏–∫ + –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞)
- üìä **–¢–µ–ª–µ–º–µ—Ç—Ä–∏—è** (—Å—Ç–∞—Ç—É—Å —Ä–æ–±–æ—Ç–∞)
- üîå **–ü—Ä–æ—Å—Ç–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** (IP + –ø–æ—Ä—Ç ‚Üí Connect)
- ‚ö° **–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π** (~20 –ú–ë —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å VLC Media Player

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å VLC (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –≤–∏–¥–µ–æ —Å—Ç—Ä–∏–º–∞)
brew install --cask vlc
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∫–ª–∏–µ–Ω—Ç–∞
cd client_macos

# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
python3 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### –®–∞–≥ 3: –ì–æ—Ç–æ–≤–æ!

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–ª–∏–µ–Ω—Ç
python3 veter_control.py
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ä–æ–±–æ—Ç—É

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø–æ—è–≤–∏—Ç—Å—è –æ–∫–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

- **Robot IP**: IP –∞–¥—Ä–µ—Å —Ä–æ–±–æ—Ç–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `100.112.41.76` - Tailscale)
- **SSH Port**: SSH –ø–æ—Ä—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `22`)
- **Username**: –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `jetson`)
- **Password**: –ü–∞—Ä–æ–ª—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `cvbp`)

–ù–∞–∂–º–∏—Ç–µ **Connect**.

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–±–æ—Ç–æ–º

#### –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –¥–∂–æ–π—Å—Ç–∏–∫ (—Å–ª–∞–π–¥–µ—Ä—ã):

- **Forward/Backward**: –î–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä–µ–¥/–Ω–∞–∑–∞–¥ (0-2 –º/—Å)
- **Left/Right**: –ü–æ–≤–æ—Ä–æ—Ç –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ (0-2 —Ä–∞–¥/—Å)

#### –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:

- **W** - –í–ø–µ—Ä–µ–¥
- **S** - –ù–∞–∑–∞–¥
- **A** - –í–ª–µ–≤–æ (–ø–æ–≤–æ—Ä–æ—Ç)
- **D** - –í–ø—Ä–∞–≤–æ (–ø–æ–≤–æ—Ä–æ—Ç)
- **–ü—Ä–æ–±–µ–ª** - STOP (–∞–≤–∞—Ä–∏–π–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞)

#### –ö–Ω–æ–ø–∫–∞ STOP:

–ö—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ **STOP** - –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –¥–≤–∏–∂–µ–Ω–∏–π.

### 3. –í–∏–¥–µ–æ —Å—Ç—Ä–∏–º

–í–∏–¥–µ–æ —Å—Ç—Ä–∏–º –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

- **URL**: `rtsp://<robot_ip>:8555/camera`
- **–ó–∞–¥–µ—Ä–∂–∫–∞**: ~200-300 –º—Å
- **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ**: 1920x1080 @ ~15 FPS

### 4. –¢–µ–ª–µ–º–µ—Ç—Ä–∏—è

–í –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏ –æ–∫–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å —Ä–æ–±–æ—Ç–∞:

- –°–∫–æ—Ä–æ—Å—Ç—å
- –ü–æ–∑–∏—Ü–∏—è
- –ë–∞—Ç–∞—Ä–µ—è (–∫–æ–≥–¥–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- GPS (–∫–æ–≥–¥–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

## –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–°**: macOS 11.0+ (Big Sur –∏–ª–∏ –Ω–æ–≤–µ–µ)
- **Python**: 3.9+
- **VLC**: 3.0+
- **–°–µ—Ç—å**: Tailscale VPN –∏–ª–∏ –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ä–æ–±–æ—Ç—É

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
MacBook Client (veter_control.py)
‚îú‚îÄ‚îÄ Connection Dialog
‚îÇ   ‚îî‚îÄ‚îÄ IP + Port + Credentials
‚îú‚îÄ‚îÄ Main Window
‚îÇ   ‚îú‚îÄ‚îÄ Video Stream (VLC/RTSP)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ rtsp://robot_ip:8555/camera
‚îÇ   ‚îú‚îÄ‚îÄ Control Panel
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Linear slider (-2 to +2 m/s)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Angular slider (-2 to +2 rad/s)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Keyboard (WASD + Space)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Emergency STOP button
‚îÇ   ‚îî‚îÄ‚îÄ Telemetry Display
‚îÇ       ‚îî‚îÄ‚îÄ Robot status
‚îî‚îÄ‚îÄ Robot Connection (SSH + ROS2)
    ‚îú‚îÄ‚îÄ SSH: paramiko
    ‚îú‚îÄ‚îÄ Commands: ros2 topic pub /cmd_vel
    ‚îî‚îÄ‚îÄ Rate: 10 Hz (100ms interval)
```

## –ü—Ä–æ—Ç–æ–∫–æ–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ö–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ SSH –Ω–∞ —Ä–æ–±–æ—Ç:

```bash
ros2 topic pub --once /cmd_vel geometry_msgs/msg/Twist \
  "{linear: {x: <linear_x>, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 0.0, z: <angular_z>}}"
```

- **–¢–æ–ø–∏–∫**: `/cmd_vel` (ROS2 Twist message)
- **–ß–∞—Å—Ç–æ—Ç–∞**: 10 Hz (–∫–∞–∂–¥—ã–µ 100 –º—Å)
- **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç**: SSH ‚Üí ROS2

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
- **Tailscale IP**: `100.112.41.76`
- **VPS Tunnel**: `81.200.157.230:2223`
- **SSH Port**: `22`
- **Username**: `jetson`

### –í–∏–¥–µ–æ:
- **RTSP Port**: `8555`
- **Stream Path**: `/camera`
- **Full URL**: `rtsp://<robot_ip>:8555/camera`

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
- **Max Linear Speed**: 2.0 m/s
- **Max Angular Speed**: 2.0 rad/s
- **Command Rate**: 10 Hz

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### VLC –Ω–µ –Ω–∞–π–¥–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É VLC
which vlc
# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: /Applications/VLC.app/Contents/MacOS/VLC

# –ï—Å–ª–∏ –Ω–µ—Ç - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:
brew install --cask vlc
```

### –ù–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Ä–æ–±–æ—Ç—É

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Tailscale VPN:
   ```bash
   tailscale status
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH –¥–æ—Å—Ç—É–ø:
   ```bash
   ssh -p 22 jetson@100.112.41.76
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ MediaMTX –Ω–∞ —Ä–æ–±–æ—Ç–µ:
   ```bash
   ssh jetson@100.112.41.76 "systemctl status mediamtx"
   ```

### –ù–µ—Ç –≤–∏–¥–µ–æ —Å—Ç—Ä–∏–º–∞

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ RTSP URL –≤ VLC:
   ```bash
   vlc rtsp://100.112.41.76:8555/camera
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞–º–µ—Ä–∞ –∑–∞–ø—É—â–µ–Ω–∞ –Ω–∞ —Ä–æ–±–æ—Ç–µ:
   ```bash
   ssh jetson@100.112.41.76 "./jetson-robot-project/scripts/start_camera_mediamtx.sh"
   ```

### –†–æ–±–æ—Ç –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ROS2 –Ω–∞ —Ä–æ–±–æ—Ç–µ:
   ```bash
   ssh jetson@100.112.41.76 "ros2 topic list"
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DroneCAN bridge –∑–∞–ø—É—â–µ–Ω:
   ```bash
   ssh jetson@100.112.41.76 "ros2 node list | grep dronecan"
   ```

## –†–∞–∑–≤–∏—Ç–∏–µ

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ GPS –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –∫–∞—Ä—Ç–µ
- [ ] –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞—Ä—è–¥–∞ –±–∞—Ç–∞—Ä–µ–∏
- [ ] –ó–∞–ø–∏—Å—å –≤–∏–¥–µ–æ –Ω–∞ –¥–∏—Å–∫
- [ ] –¢–µ–ª–µ–º–µ—Ç—Ä–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (ROS2 topics)
- [ ] –ú–∏—Å—Å–∏–æ–Ω–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (waypoints)
- [ ] –ì—Ä–∞—Ñ–∏–∫–∏ –¥–∞—Ç—á–∏–∫–æ–≤ (IMU, ultrasonic)

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ:

–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –≤–∏–¥–∂–µ—Ç—ã –≤ `MainWindow`:

```python
# –ü—Ä–∏–º–µ—Ä: GPS –∫–∞—Ä—Ç–∞
from PyQt6.QtWebEngineWidgets import QWebEngineView

class GPSWidget(QWidget):
    def __init__(self):
        super().__init__()
        self.map_view = QWebEngineView()
        # ... load OpenStreetMap or Google Maps
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ß–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ VETER_NEXT

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **GitHub**: https://github.com/coldreb00t/VETER_NEXT
- **Email**: eugene.a.melnik@gmail.com

---

**–í–µ—Ä—Å–∏—è**: 1.0.0 (MVP)
**–î–∞—Ç–∞**: –ù–æ—è–±—Ä—å 15, 2025
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
